"use strict";!function(){var n,t,o,e,a=!1,s=!1,c={elt:null,email:{elt:null,value:""},message:{elt:null,value:""}};function i(){t.classList.remove("open"),o.classList.remove("open"),a=!1}function l(e){a?i():(t.classList.add("open"),o.classList.add("open"),a=!0)}function r(){if(n.readyState==XMLHttpRequest.DONE)if(200===n.status){var e=JSON.parse(n.responseText);console.log(e.computedString),document.getElementById("contact-form-success").classList.remove("hide"),window.setTimeout(function(){window.location.reload()},5e3)}else console.log("Une erreur est survenue")}function u(e){e.preventDefault(),s&&window.location.reload(),s=!0,function(e,t){if(!n)throw new Error("Impossible d'executer la requete");n.onreadystatechange=e,n.open(t.method,t.uri),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify(t.data))}(r,{method:"POST",uri:"/api/contacts",data:{email:c.email.value,message:c.message.value}}),console.log("Submit")}function d(e){var t=e.currentTarget;c[t.name].value=t.value}function m(e){e.preventDefault();var t=e.currentTarget,n=t.dataset.section;document.querySelectorAll(".active").forEach(function(e){e.classList.remove("active")}),t.classList.add("active"),document.querySelectorAll("section").forEach(function(e){e.classList.add("hide")}),document.getElementById(n).classList.remove("hide"),i()}document.addEventListener("DOMContentLoaded",function(){t=document.getElementById("Burger"),o=document.querySelector(".nav"),e=document.querySelectorAll(".link a"),c.elt=document.getElementById("contact-form"),c.email.elt=document.getElementById("email"),c.message.elt=document.getElementById("message"),n=new XMLHttpRequest,"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(function(){console.log("Service worker registered!")}).catch(function(e){console.log(e)}),e.forEach(function(e){e.addEventListener("click",m)}),t.addEventListener("click",l),c.elt.addEventListener("submit",u),c.email.elt.addEventListener("input",d),c.message.elt.addEventListener("input",d)})}();